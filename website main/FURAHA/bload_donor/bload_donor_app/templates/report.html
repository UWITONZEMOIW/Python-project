{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2>ðŸ“Š Donation Reports</h2>
    <hr>

    <div class="report-summary">
        <p><strong>Total Donations:</strong> {{ total_donations }}</p>
        <p><strong>Unique Donors:</strong> {{ donor_list|length }}</p>
    </div>

    <div class="report-section mt-4">
        <h4>Donations by Blood Type</h4>
        <table class="table table-striped mt-3">
            <thead>
                <tr>
                    <th>Blood Type</th>
                    <th>Donations</th>
                </tr>
            </thead>
            <tbody>
                {% for item in donation_counts %}
                <tr>
                    <td>{{ item.donor__blood_type }}</td>
                    <td>{{ item.count }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="2">No donations yet.</td></tr>
                {% endfor %}
            </tbody>
        </table>
            <div class="d-flex justify-content-end mb-3">
                <a href="{% url 'export_report_csv' %}" class="btn btn-outline-success me-2">Export CSV</a>
                <a href="{% url 'export_report_pdf' %}" class="btn btn-outline-danger">Export PDF</a>
            </div>


    </div>
</div>
{% endblock %}
